<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>The Most Groundbreaking New Security Ecosystem of 2024 | DARKNAVY</title><meta name=keywords content><meta name=description content="
In the &ldquo;DARKNAVY INSIGHT | 2023 Annual Security Report&rdquo;, we noted: &ldquo;As we stand on the precipice of the next decade, 2023 will undoubtedly be a year of profound transformation. The deployment of new defense mechanisms and the rise of novel attack technologies will fundamentally reshape the digital security landscape.&rdquo;
The year 2024 arrived like a swift gust of wind, only to fade away like a brief storm. The AI revolution, breakthroughs in mobile operating systems, and challenges in supply chain security that we discussed in 2023 continue to unfold in 2024, leaving little room to catch our breath."><meta name=author content="DARKNAVY"><link rel=canonical href=https://www.darknavy.org/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/><link crossorigin=anonymous href=/assets/css/stylesheet.2613b1460fae4b99a98c033e33bde5e6a3af84ddb20236b732cefe33e3c0781e.css integrity="sha256-JhOxRg+uS5mpjAM+M73l5qOvhN2yAja3Ms7+M+PAeB4=" rel="preload stylesheet" as=style><link rel=icon href=https://www.darknavy.org/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.darknavy.org/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.darknavy.org/favicon-32x32.png><link rel=apple-touch-icon href=https://www.darknavy.org/apple-touch-icon.png><link rel=mask-icon href=https://www.darknavy.org/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.darknavy.org/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/><link rel=alternate hreflang=zh href=https://www.darknavy.org/zh/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-LR4ZN1LSPS"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-LR4ZN1LSPS")}</script><meta property="og:url" content="https://www.darknavy.org/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/"><meta property="og:site_name" content="DARKNAVY"><meta property="og:title" content="The Most Groundbreaking New Security Ecosystem of 2024"><meta property="og:description" content="
In the “DARKNAVY INSIGHT | 2023 Annual Security Report”, we noted: “As we stand on the precipice of the next decade, 2023 will undoubtedly be a year of profound transformation. The deployment of new defense mechanisms and the rise of novel attack technologies will fundamentally reshape the digital security landscape.”
The year 2024 arrived like a swift gust of wind, only to fade away like a brief storm. The AI revolution, breakthroughs in mobile operating systems, and challenges in supply chain security that we discussed in 2023 continue to unfold in 2024, leaving little room to catch our breath."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="darknavy_insight"><meta property="article:published_time" content="2025-02-08T17:10:13+08:00"><meta property="article:modified_time" content="2025-02-08T17:10:13+08:00"><meta property="og:image" content="https://www.darknavy.org/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/attachments/1.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.darknavy.org/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/attachments/1.png"><meta name=twitter:title content="The Most Groundbreaking New Security Ecosystem of 2024"><meta name=twitter:description content="
In the &ldquo;DARKNAVY INSIGHT | 2023 Annual Security Report&rdquo;, we noted: &ldquo;As we stand on the precipice of the next decade, 2023 will undoubtedly be a year of profound transformation. The deployment of new defense mechanisms and the rise of novel attack technologies will fundamentally reshape the digital security landscape.&rdquo;
The year 2024 arrived like a swift gust of wind, only to fade away like a brief storm. The AI revolution, breakthroughs in mobile operating systems, and challenges in supply chain security that we discussed in 2023 continue to unfold in 2024, leaving little room to catch our breath."><meta name=twitter:site content="@DarkNavyOrg"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"DARKNAVY INSIGHT","item":"https://www.darknavy.org/darknavy_insight/"},{"@type":"ListItem","position":2,"name":"The Most Groundbreaking New Security Ecosystem of 2024","item":"https://www.darknavy.org/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"The Most Groundbreaking New Security Ecosystem of 2024","name":"The Most Groundbreaking New Security Ecosystem of 2024","description":"\nIn the \u0026ldquo;DARKNAVY INSIGHT | 2023 Annual Security Report\u0026rdquo;, we noted: \u0026ldquo;As we stand on the precipice of the next decade, 2023 will undoubtedly be a year of profound transformation. The deployment of new defense mechanisms and the rise of novel attack technologies will fundamentally reshape the digital security landscape.\u0026rdquo;\nThe year 2024 arrived like a swift gust of wind, only to fade away like a brief storm. The AI revolution, breakthroughs in mobile operating systems, and challenges in supply chain security that we discussed in 2023 continue to unfold in 2024, leaving little room to catch our breath.\n","keywords":[],"articleBody":"\nIn the “DARKNAVY INSIGHT | 2023 Annual Security Report”, we noted: “As we stand on the precipice of the next decade, 2023 will undoubtedly be a year of profound transformation. The deployment of new defense mechanisms and the rise of novel attack technologies will fundamentally reshape the digital security landscape.”\nThe year 2024 arrived like a swift gust of wind, only to fade away like a brief storm. The AI revolution, breakthroughs in mobile operating systems, and challenges in supply chain security that we discussed in 2023 continue to unfold in 2024, leaving little room to catch our breath.\nThe relentless wave of disruptive change sharply contrasts with the traditionally sluggish security market. In the age of AI, does traditional memory security research still have relevance? What direction will new attack methods take? How should user privacy be safeguarded in this ever-evolving digital landscape?\nIn the 2024 edition of DARKNAVY INSIGHT, we have already embraced the future and invite you to explore and share these developments with us.\nBelow is the first article from this year’s “DARKNAVY INSIGHT | 2024 Annual Security Report”.\nHuawei launched the first version of HarmonyOS, HarmonyOS 1.0, in 2019, and the operating system has been continuously updated, with HarmonyOS 4.2 being the latest version. While the initial versions provided dual compatibility with both Android and Harmony frameworks at the application layer, the underlying system still relied on the Android kernel, which raised significant skepticism within the industry.\nWith the release of the 2024 HarmonyOS NEXT version, and the subsequent 5.0 version, HarmonyOS has shifted to a “single framework” at the application layer, with the core now entirely based on Huawei’s proprietary HongMeng kernel. This marks the official end of its reliance on the Android application framework and kernel.\nAs early as June 2, DARKNAVY released the world’s first public jailbreak video based on HarmonyOS NEXT Developer Preview 2. On June 12, we published another video demonstrating an application persistence issue in the same version. Leveraging the system privileges, we conducted further analysis on HarmonyOS NEXT, examining the application framework and kernel in detail. We discovered that both the application framework and the kernel of HarmonyOS NEXT differ significantly from Android. In this report, we will reveal the true nature of HarmonyOS NEXT from a security research perspective, focusing on key aspects such as “single framework” application development, permission management, the Internet of Everything (IoE), kernel architecture, and syscalls.\nHarmonyOS “Single Framework” The “single framework” of HarmonyOS signifies a complete break from Android. The system no longer supports APK installation packages and no longer uses Java as the application development language. The “single framework” has replaced APK with the HAP (Harmony Ability Package) for deployment, and the application development language has shifted to extended TypeScript (eTS).\nTo prevent the proliferation of malicious applications, which plagued the traditional Android system, HarmonyOS “single framework” introduces significant improvements over its predecessor. For instance, applications are restricted to installation only from official app markets using application signing mechanisms, thus eliminating the risk of non-official third-party apps; it enforces stricter background persistence policies, where any application is forced to suspend after 10 seconds; sensitive permissions are granted on a one-time basis, ensuring minimal access, such as allowing an app to access only the image selected by the user instead of the entire photo gallery.\nIn addition to these optimizations, HarmonyOS “single framework” introduces several bold innovations.\nThe underlying foundation of the “Internet of Everything” is the Distributed Soft Bus (DSoftBus), which enables seamless communication between various device models and types. The underlying transmission media supports Wi-Fi, Bluetooth, and other protocols, and the protocol layer covers various stages, including discovery, authentication, and transmission. From the user perspective, new services like distributed file systems and clipboard synchronization significantly enhance user convenience. For developers, the system even supports remote IPC calls to other devices, facilitating distributed binder calls. Given the power of these features, the security of this module is of paramount importance. The newly introduced XPM (eXecutable Permission Manager) module enforces a robust code protection mechanism, ensuring that applications can only load code that is signed with a valid certificate. Once an application is installed, its code files (.abc and .so) cannot be modified arbitrarily; any modification will result in the code being rejected. Additionally, integrity protection prevents tampering with executable code. The AccessToken mechanism enables finer-grained permission control by categorizing token types into Hap, Native, Shell, and others, thereby separating the management of system program and app permissions. An application’s access token contains crucial information such as the app ID, sub-user ID, app clone index, app APL, and authorization status, enabling the system to implement more granular authentication. These mechanisms operate at the operating system kernel level, ensuring end-to-end control across the entire system.\nIt is worth noting that while HarmonyOS “single framework” no longer supports APK installation packages, applications like “出境易” and “卓易通” have made it possible to run Android apps on this system. During practical analysis, the encryption support in the kernel and TEE (Trusted Execution Environment) made reverse-engineering the installation packages from these app markets exceedingly difficult. DARKNAVY, utilizing our accumulated research, successfully decrypted these packages with our proprietary decompiler, revealing that these applications use HarmonyOS system container interfaces to simulate the Android application and framework layers.\nHarmonyOS NEXT Kernel HarmonyOS NEXT kernel (referred to as the HongMeng kernel hereafter) is designed based on a microkernel architecture. The traditional kernel functionalities are split into a streamlined core kernel and several independent system components. Some or all of these components operate in user mode, depending on the security requirements, offering enhanced security compared to the monolithic kernel architecture of Linux.\nIn a monolithic kernel, all modules are tightly coupled. For example, if an attacker exploits a vulnerability in the network module, they can gain control over the entire kernel. In contrast, with a microkernel architecture, even if a module (such as the network module) is compromised, the attacker cannot easily escalate the attack to other system modules due to the isolation between components. This isolation between system components inevitably results in performance overhead. To minimize the cost of frequent context switches between components, the HongMeng kernel moves frequently accessed functionalities, such as file system management (fsmgr), memory management (memmgr), and process management (procmgr), into kernel mode, while isolating high-risk functionalities, such as network communication and device drivers (devhost), into user mode, thereby sacrificing a small amount of performance for improved security.\nTo maintain compatibility with the Linux software development ecosystem, the HongMeng kernel supports Linux syscalls and drivers. Specifically, it maps Linux system call numbers to its own and reconstructs the corresponding functionality within the new microkernel architecture, ensuring seamless compatibility between the kernel and applications. Additionally, a user-space driver container is introduced to load and execute various Linux drivers, enabling Linux-based software to run smoothly without extensive adaptation for the HongMeng kernel.\nThis also explains how Android apps can run on HarmonyOS NEXT using container virtualization technology.\nsyscalls in the HongMeng kernel are categorized into two types: lsyscall and archsyscall.\nlsyscall refers to the Linux-compatible syscalls, but due to the microkernel architecture, these functionalities are divided into multiple components. Specifically, lsyscall is subdivided into nine different types, and depending on the type of system call, the core kernel dispatches the request via a class RPC mechanism to the appropriate functional component. archsyscall, on the other hand, is specifically designed to support the microkernel’s features, enabling critical functionalities such as IPC (inter-process communication) and RPC (remote procedure calls). Moreover, the HongMeng kernel implements a fine-grained capability-based control mechanism for resource management, similar to SEL4. For example, access to core kernel resources, such as ACTV and ACTVPOOL for the RPC mechanism, requires a capability check, thus adding another layer of security against potential attacks. Our in-depth analysis of the HongMeng kernel reveals that significant efforts have been made in its architectural design. Compared to the Linux kernel, it achieves a notable enhancement in security, albeit with a slight performance trade-off.\nHowever, it is regrettable that, unlike the open ecosystem of Android, the HongMeng kernel has remained closed-source. Starting in the second half of 2024, the HongMeng kernel within HarmonyOS NEXT firmware has been encrypted, significantly increasing the challenges for security researchers. It is noteworthy that this closed approach presents a stepwise challenge to the “purebred HarmonyOS” ecosystem: the key issue lies in whether the core system capabilities will be made available to third-party smartphone and device manufacturers—only by making the underlying system open-source can this be addressed. Furthermore, considering the firmly established Android ecosystem, it remains uncertain whether other manufacturers will invest resources in adapting to this entirely new system, posing a potential challenge for ecosystem development.\nMuch like how macOS was once criticized as being based on FreeBSD and Linux was accused of being a derivative of UNIX, it is inevitable that a nascent operating system will bear some resemblance to others due to adaptation and inspiration. However, it is clear that HarmonyOS NEXT diverges significantly from native Android in its development trajectory, and we believe that its future evolution will be markedly different.\nDeepSeek Insight When HarmonyOS erects high walls through code signing, are we witnessing the twilight of an open ecosystem? The closed-source kernel and encrypted firmware create a “security fortress”—is this a shield against attacks, or a prison that stifles technological evolution? With the microkernel architecture trading performance for security promises, can it withstand the downpour of zero-day vulnerabilities in the torrent of the Internet of Everything? Do the Android “ghosts” lurking in containers hint at a dual personality of ecosystem fragmentation? As distributed IPC breaks down device boundaries, is the attack surface expanding exponentially? Is HarmonyOS, claiming to be “purebred,” truly paving the way for technological independence, or has it fallen into the dead-end of ecological isolation? When every permission becomes a digital shackle, are we guarding user privacy, or strangling the potential for innovation? Will this operating system’s rebirth ultimately give rise to an ark of digital security, or become just another specimen of a closed garden?\n","wordCount":"1672","inLanguage":"en","image":"https://www.darknavy.org/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/attachments/1.png","datePublished":"2025-02-08T17:10:13+08:00","dateModified":"2025-02-08T17:10:13+08:00","author":{"@type":"Person","name":"DARKNAVY"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.darknavy.org/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/"},"publisher":{"@type":"Organization","name":"DARKNAVY","logo":{"@type":"ImageObject","url":"https://www.darknavy.org/images/favicon.ico"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=https://www.darknavy.org/ accesskey=h title="  (Alt + H)"><img src=https://www.darknavy.org/images/darknavy_shenlan_dot.png alt aria-label=logo height=20></a><div class=logo-switches><ul class=lang-switch><li>|</li><li><a href=https://www.darknavy.org/zh/ title=Chinese aria-label=Chinese>Zh</a></li></ul></div></div><ul id=menu><li><a href=https://www.darknavy.org/ title=Home><span>Home</span></a></li><li><a href=https://www.darknavy.org/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://www.darknavy.org/darknavy_insight/ title=Insight><span>Insight</span></a></li><li><a href=https://www.darknavy.org/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.darknavy.org/>Home</a>&nbsp;»&nbsp;<a href=https://www.darknavy.org/darknavy_insight/>DARKNAVY INSIGHT</a></div><h1 class="post-title entry-hint-parent">The Most Groundbreaking New Security Ecosystem of 2024</h1><div class=post-meta><span title='2025-02-08 17:10:13 +0800 CST'>February 8, 2025</span>&nbsp;·&nbsp;1672 words&nbsp;·&nbsp;DARKNAVY&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://www.darknavy.org/zh/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/>Zh</a></li></ul></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#harmonyos-single-framework>HarmonyOS &ldquo;Single Framework&rdquo;</a></li><li><a href=#harmonyos-next-kernel>HarmonyOS NEXT Kernel</a></li><li><a href=#deepseek-insight>DeepSeek Insight</a></li></ul></nav></div></details></div><div class=post-content><p><img loading=lazy src=/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/attachments/f349496e-e1f5-4d6b-b4a2-7c939b50aa80.png></p><p>In the &ldquo;DARKNAVY INSIGHT | 2023 Annual Security Report&rdquo;, we noted: &ldquo;As we stand on the precipice of the next decade, 2023 will undoubtedly be a year of profound transformation. The deployment of new defense mechanisms and the rise of novel attack technologies will fundamentally reshape the digital security landscape.&rdquo;</p><p>The year 2024 arrived like a swift gust of wind, only to fade away like a brief storm. The AI revolution, breakthroughs in mobile operating systems, and challenges in supply chain security that we discussed in 2023 continue to unfold in 2024, leaving little room to catch our breath.</p><p>The relentless wave of disruptive change sharply contrasts with the traditionally sluggish security market. In the age of AI, does traditional memory security research still have relevance? What direction will new attack methods take? How should user privacy be safeguarded in this ever-evolving digital landscape?</p><p>In the 2024 edition of DARKNAVY INSIGHT, we have already embraced the future and invite you to explore and share these developments with us.</p><p>Below is the first article from this year&rsquo;s &ldquo;DARKNAVY INSIGHT | 2024 Annual Security Report&rdquo;.</p><p><img loading=lazy src=/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/attachments/1.png></p><p>Huawei launched the first version of HarmonyOS, HarmonyOS 1.0, in 2019, and the operating system has been continuously updated, with HarmonyOS 4.2 being the latest version. While the initial versions provided dual compatibility with both Android and Harmony frameworks at the application layer, the underlying system still relied on the Android kernel, which raised significant skepticism within the industry.</p><p>With the release of the 2024 HarmonyOS NEXT version, and the subsequent 5.0 version, HarmonyOS has shifted to a &ldquo;single framework&rdquo; at the application layer, with the core now entirely based on Huawei&rsquo;s proprietary HongMeng kernel. This marks the official end of its reliance on the Android application framework and kernel.</p><img src=attachments/0960f8dc-291d-4b8d-87b3-b948dd792d49.png style=display:block;margin-left:auto;margin-right:auto;zoom:60%><p>As early as June 2, DARKNAVY released the world&rsquo;s first public jailbreak video based on HarmonyOS NEXT Developer Preview 2. On June 12, we published another video demonstrating an application persistence issue in the same version. Leveraging the system privileges, we conducted further analysis on HarmonyOS NEXT, examining the application framework and kernel in detail. We discovered that both the application framework and the kernel of HarmonyOS NEXT differ significantly from Android. In this report, we will reveal the true nature of HarmonyOS NEXT from a security research perspective, focusing on key aspects such as &ldquo;single framework&rdquo; application development, permission management, the Internet of Everything (IoE), kernel architecture, and syscalls.</p><h2 id=harmonyos-single-framework>HarmonyOS &ldquo;Single Framework&rdquo;<a hidden class=anchor aria-hidden=true href=#harmonyos-single-framework>#</a></h2><p>The &ldquo;single framework&rdquo; of HarmonyOS signifies a complete break from Android. The system no longer supports APK installation packages and no longer uses Java as the application development language. The &ldquo;single framework&rdquo; has replaced APK with the HAP (Harmony Ability Package) for deployment, and the application development language has shifted to extended TypeScript (eTS).</p><p>To prevent the proliferation of malicious applications, which plagued the traditional Android system, HarmonyOS &ldquo;single framework&rdquo; introduces significant improvements over its predecessor. For instance, applications are restricted to installation only from official app markets using application signing mechanisms, thus eliminating the risk of non-official third-party apps; it enforces stricter background persistence policies, where any application is forced to suspend after 10 seconds; sensitive permissions are granted on a one-time basis, ensuring minimal access, such as allowing an app to access only the image selected by the user instead of the entire photo gallery.</p><p>In addition to these optimizations, HarmonyOS &ldquo;single framework&rdquo; introduces several bold innovations.</p><ul><li>The underlying foundation of the &ldquo;Internet of Everything&rdquo; is the Distributed Soft Bus (DSoftBus), which enables seamless communication between various device models and types. The underlying transmission media supports Wi-Fi, Bluetooth, and other protocols, and the protocol layer covers various stages, including discovery, authentication, and transmission. From the user perspective, new services like distributed file systems and clipboard synchronization significantly enhance user convenience. For developers, the system even supports remote IPC calls to other devices, facilitating distributed binder calls. Given the power of these features, the security of this module is of paramount importance.</li></ul><img src=attachments/4b1125d7-3a6a-47e8-8a81-ea4829b9fb45.png style=display:block;margin-left:auto;margin-right:auto;zoom:50%><ul><li>The newly introduced XPM (eXecutable Permission Manager) module enforces a robust code protection mechanism, ensuring that applications can only load code that is signed with a valid certificate. Once an application is installed, its code files (.abc and .so) cannot be modified arbitrarily; any modification will result in the code being rejected. Additionally, integrity protection prevents tampering with executable code.</li><li>The AccessToken mechanism enables finer-grained permission control by categorizing token types into Hap, Native, Shell, and others, thereby separating the management of system program and app permissions. An application&rsquo;s access token contains crucial information such as the app ID, sub-user ID, app clone index, app APL, and authorization status, enabling the system to implement more granular authentication.</li></ul><p>These mechanisms operate at the operating system kernel level, ensuring end-to-end control across the entire system.</p><blockquote><p>It is worth noting that while HarmonyOS &ldquo;single framework&rdquo; no longer supports APK installation packages, applications like &ldquo;出境易&rdquo; and &ldquo;卓易通&rdquo; have made it possible to run Android apps on this system. During practical analysis, the encryption support in the kernel and TEE (Trusted Execution Environment) made reverse-engineering the installation packages from these app markets exceedingly difficult. DARKNAVY, utilizing our accumulated research, successfully decrypted these packages with our proprietary decompiler, revealing that these applications use HarmonyOS system container interfaces to simulate the Android application and framework layers.</p></blockquote><p><img loading=lazy src=/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/attachments/10595c86-a7ad-4107-bc86-17798c073060.png></p><h2 id=harmonyos-next-kernel>HarmonyOS NEXT Kernel<a hidden class=anchor aria-hidden=true href=#harmonyos-next-kernel>#</a></h2><p><img loading=lazy src=/darknavy_insight/the_most_groundbreaking_new_security_ecosystem_of_2024/attachments/d77736a7-bed9-4e68-88fa-56f830a3013f.png></p><p>HarmonyOS NEXT kernel (referred to as the HongMeng kernel hereafter) is designed based on a microkernel architecture. The traditional kernel functionalities are split into a streamlined core kernel and several independent system components. Some or all of these components operate in user mode, depending on the security requirements, offering enhanced security compared to the monolithic kernel architecture of Linux.</p><blockquote><ul><li>In a monolithic kernel, all modules are tightly coupled. For example, if an attacker exploits a vulnerability in the network module, they can gain control over the entire kernel.</li><li>In contrast, with a microkernel architecture, even if a module (such as the network module) is compromised, the attacker cannot easily escalate the attack to other system modules due to the isolation between components.</li></ul></blockquote><img src=attachments/2765805d-2468-4685-9cc0-cee018bedbc6.png style=display:block;margin-left:auto;margin-right:auto;zoom:70%><p>This isolation between system components inevitably results in performance overhead. To minimize the cost of frequent context switches between components, the HongMeng kernel moves frequently accessed functionalities, such as file system management (fsmgr), memory management (memmgr), and process management (procmgr), into kernel mode, while isolating high-risk functionalities, such as network communication and device drivers (devhost), into user mode, thereby sacrificing a small amount of performance for improved security.</p><img src=attachments/4b279a70-3d7f-41a0-97a4-cd4041166297.png style=display:block;margin-left:auto;margin-right:auto;zoom:70%><p>To maintain compatibility with the Linux software development ecosystem, the HongMeng kernel supports Linux syscalls and drivers. Specifically, it maps Linux system call numbers to its own and reconstructs the corresponding functionality within the new microkernel architecture, ensuring seamless compatibility between the kernel and applications. Additionally, a user-space driver container is introduced to load and execute various Linux drivers, enabling Linux-based software to run smoothly without extensive adaptation for the HongMeng kernel.</p><p>This also explains how Android apps can run on HarmonyOS NEXT using container virtualization technology.</p><img src=attachments/3e361f53-c33a-4a85-8f35-935fcd08eb7d.png style=display:block;margin-left:auto;margin-right:auto;zoom:60%><p>syscalls in the HongMeng kernel are categorized into two types: lsyscall and archsyscall.</p><blockquote><ul><li>lsyscall refers to the Linux-compatible syscalls, but due to the microkernel architecture, these functionalities are divided into multiple components. Specifically, lsyscall is subdivided into nine different types, and depending on the type of system call, the core kernel dispatches the request via a class RPC mechanism to the appropriate functional component.</li><li>archsyscall, on the other hand, is specifically designed to support the microkernel&rsquo;s features, enabling critical functionalities such as IPC (inter-process communication) and RPC (remote procedure calls). Moreover, the HongMeng kernel implements a fine-grained capability-based control mechanism for resource management, similar to SEL4. For example, access to core kernel resources, such as ACTV and ACTVPOOL for the RPC mechanism, requires a capability check, thus adding another layer of security against potential attacks.</li></ul></blockquote><img src=attachments/b9c9d52c-29df-46ff-883c-28036a3ba085.png style=display:block;margin-left:auto;margin-right:auto;zoom:70%><p>Our in-depth analysis of the HongMeng kernel reveals that significant efforts have been made in its architectural design. Compared to the Linux kernel, it achieves a notable enhancement in security, albeit with a slight performance trade-off.</p><p>However, it is regrettable that, unlike the open ecosystem of Android, the HongMeng kernel has remained closed-source. Starting in the second half of 2024, the HongMeng kernel within HarmonyOS NEXT firmware has been encrypted, significantly increasing the challenges for security researchers. It is noteworthy that this closed approach presents a stepwise challenge to the &ldquo;purebred HarmonyOS&rdquo; ecosystem: the key issue lies in whether the core system capabilities will be made available to third-party smartphone and device manufacturers—only by making the underlying system open-source can this be addressed. Furthermore, considering the firmly established Android ecosystem, it remains uncertain whether other manufacturers will invest resources in adapting to this entirely new system, posing a potential challenge for ecosystem development.</p><blockquote><p>Much like how macOS was once criticized as being based on FreeBSD and Linux was accused of being a derivative of UNIX, it is inevitable that a nascent operating system will bear some resemblance to others due to adaptation and inspiration. However, it is clear that HarmonyOS NEXT diverges significantly from native Android in its development trajectory, and we believe that its future evolution will be markedly different.</p></blockquote><hr><h2 id=deepseek-insight>DeepSeek Insight<a hidden class=anchor aria-hidden=true href=#deepseek-insight>#</a></h2><p>When HarmonyOS erects high walls through code signing, are we witnessing the twilight of an open ecosystem? The closed-source kernel and encrypted firmware create a &ldquo;security fortress&rdquo;—is this a shield against attacks, or a prison that stifles technological evolution? With the microkernel architecture trading performance for security promises, can it withstand the downpour of zero-day vulnerabilities in the torrent of the Internet of Everything? Do the Android &ldquo;ghosts&rdquo; lurking in containers hint at a dual personality of ecosystem fragmentation? As distributed IPC breaks down device boundaries, is the attack surface expanding exponentially? Is HarmonyOS, claiming to be &ldquo;purebred,&rdquo; truly paving the way for technological independence, or has it fallen into the dead-end of ecological isolation? When every permission becomes a digital shackle, are we guarding user privacy, or strangling the potential for innovation? Will this operating system&rsquo;s rebirth ultimately give rise to an ark of digital security, or become just another specimen of a closed garden?</p><hr></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://www.darknavy.org/>DARKNAVY</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>